[options]
# =============================================================================
# TEMPLATE: PRODUCCIÓN
# =============================================================================
# Usar este template para crear configuraciones de producción de clientes.
# Copiar este archivo a config/hosts/[cliente].somosblink.com.conf
# y completar los valores marcados con <COMPLETAR>
# =============================================================================

# Heredar configuración base
extends = ../base.conf

# -----------------------------------------------------------------------------
# IDENTIFICACIÓN
# -----------------------------------------------------------------------------
hostname = <COMPLETAR: ej. corteperfecto.somosblink.com>
environment = production
client_name = <COMPLETAR: ej. Corte Perfecto>
client_code = <COMPLETAR: ej. corteperfecto>

# -----------------------------------------------------------------------------
# NETWORK
# -----------------------------------------------------------------------------
http_port = <COMPLETAR: ej. 8075>
http_interface = 127.0.0.1
proxy_mode = True

# -----------------------------------------------------------------------------
# DATABASE
# -----------------------------------------------------------------------------
db_name = <COMPLETAR: ej. corteperfecto-prod>
db_filter = ^<COMPLETAR: ej. corteperfecto-prod>$
db_password = <COMPLETAR: usar variable de entorno o secreto>

# Ocultar lista de bases de datos en producción
list_db = False

# -----------------------------------------------------------------------------
# SECURITY
# -----------------------------------------------------------------------------
# Contraseña de admin (CRÍTICO: usar contraseña fuerte única)
admin_passwd = <COMPLETAR: generar con: openssl rand -base64 32>

# -----------------------------------------------------------------------------
# PERFORMANCE (Producción)
# -----------------------------------------------------------------------------
# Workers (recomendado: (num_cpus * 2) + 1)
# Para instancia pequeña (2 CPUs): workers = 5
# Para instancia mediana (4 CPUs): workers = 9
workers = <COMPLETAR: ej. 0 para single process, 5 para multi-worker>

# Límites de tiempo
limit_time_cpu = 600
limit_time_real = 1200

# Límites de memoria
limit_memory_soft = 2147483648
limit_memory_hard = 2684354560

# -----------------------------------------------------------------------------
# ADDONS
# -----------------------------------------------------------------------------
addons_path = /opt/odoo/custom-addons,
              /opt/odoo/odoo18/addons,
              /opt/odoo/custom-addons/odoo-argentina,
              /opt/odoo/custom-addons/odoo-argentina-ce,
              /opt/odoo/custom-addons/account-financial-tools

# -----------------------------------------------------------------------------
# DIRECTORIES
# -----------------------------------------------------------------------------
data_dir = /opt/odoo/.local/share/Odoo-<COMPLETAR: ej. corteperfecto-prod>
logfile = /var/log/odoo/odoo-<COMPLETAR: ej. corteperfecto-prod>.log

# -----------------------------------------------------------------------------
# LOGGING (Producción)
# -----------------------------------------------------------------------------
log_level = info
log_handler = :INFO

# Para debugging temporal, cambiar a:
# log_level = debug
# log_handler = :DEBUG

# -----------------------------------------------------------------------------
# INSTRUCCIONES DE USO
# -----------------------------------------------------------------------------
# 1. Copiar este archivo:
#    cp config/templates/production.template.conf config/hosts/[cliente].somosblink.com.conf
#
# 2. Buscar y reemplazar todos los <COMPLETAR>
#
# 3. Generar contraseña de admin:
#    openssl rand -base64 32
#
# 4. Configurar variables de entorno o usar herramienta de secretos
#
# 5. Crear servicio systemd:
#    sudo cp deployment/systemd/odoo-template.service /etc/systemd/system/odoo-[cliente]-prod.service
#    sudo systemctl daemon-reload
#    sudo systemctl enable odoo-[cliente]-prod
#    sudo systemctl start odoo-[cliente]-prod
#
# 6. Configurar Nginx (ver deployment/nginx/template.conf)
#
# 7. Configurar SSL con Let's Encrypt:
#    sudo certbot --nginx -d [cliente].somosblink.com
