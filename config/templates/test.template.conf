[options]
# =============================================================================
# TEMPLATE: TEST/STAGING
# =============================================================================
# Usar este template para crear configuraciones de test/staging de clientes.
# Copiar este archivo a config/hosts/[cliente]-test.somosblink.com.conf
# y completar los valores marcados con <COMPLETAR>
# =============================================================================

# Heredar configuración base
extends = ../base.conf

# -----------------------------------------------------------------------------
# IDENTIFICACIÓN
# -----------------------------------------------------------------------------
hostname = <COMPLETAR: ej. corteperfecto-test.somosblink.com>
environment = test
client_name = <COMPLETAR: ej. Corte Perfecto>
client_code = <COMPLETAR: ej. corteperfecto>

# -----------------------------------------------------------------------------
# NETWORK
# -----------------------------------------------------------------------------
http_port = <COMPLETAR: ej. 8076>
http_interface = 127.0.0.1
proxy_mode = True

# -----------------------------------------------------------------------------
# DATABASE
# -----------------------------------------------------------------------------
db_name = <COMPLETAR: ej. corteperfecto-test>
db_filter = ^<COMPLETAR: ej. corteperfecto-test>$
db_password = <COMPLETAR: puede ser menos segura que prod pero igualmente robusta>

# Permitir lista de bases de datos en test (opcional)
list_db = True

# -----------------------------------------------------------------------------
# SECURITY
# -----------------------------------------------------------------------------
# Contraseña de admin (puede ser compartida en equipo de desarrollo)
admin_passwd = <COMPLETAR: generar con: openssl rand -base64 24>

# -----------------------------------------------------------------------------
# PERFORMANCE (Test - menos restrictivo)
# -----------------------------------------------------------------------------
# Workers: 0 para debugging fácil, o workers si necesitas simular producción
workers = 0

# Límites más relajados para debugging
limit_time_cpu = 1200
limit_time_real = 2400

# Límites de memoria
limit_memory_soft = 2147483648
limit_memory_hard = 2684354560

# -----------------------------------------------------------------------------
# ADDONS
# -----------------------------------------------------------------------------
addons_path = /opt/odoo/custom-addons,
              /opt/odoo/odoo18/addons,
              /opt/odoo/custom-addons/odoo-argentina,
              /opt/odoo/custom-addons/odoo-argentina-ce,
              /opt/odoo/custom-addons/account-financial-tools

# -----------------------------------------------------------------------------
# DIRECTORIES
# -----------------------------------------------------------------------------
data_dir = /opt/odoo/.local/share/Odoo-<COMPLETAR: ej. corteperfecto-test>
logfile = /var/log/odoo/odoo-<COMPLETAR: ej. corteperfecto-test>.log

# -----------------------------------------------------------------------------
# LOGGING (Test - más verbose)
# -----------------------------------------------------------------------------
log_level = info
log_handler = :INFO

# Para debugging detallado:
# log_level = debug
# log_handler = :DEBUG

# -----------------------------------------------------------------------------
# DEVELOPMENT OPTIONS (Opcional para test)
# -----------------------------------------------------------------------------
# Descomentar para facilitar desarrollo/debugging:
# dev_mode = all
# Equivalente a: --dev=all (reload automático, verbose logging, etc.)

# -----------------------------------------------------------------------------
# INSTRUCCIONES DE USO
# -----------------------------------------------------------------------------
# 1. Copiar este archivo:
#    cp config/templates/test.template.conf config/hosts/[cliente]-test.somosblink.com.conf
#
# 2. Buscar y reemplazar todos los <COMPLETAR>
#
# 3. Generar contraseña de admin (menos crítica que prod):
#    openssl rand -base64 24
#
# 4. Para debugging, considerar workers = 0 (single process)
#
# 5. Crear servicio systemd:
#    sudo cp deployment/systemd/odoo-template.service /etc/systemd/system/odoo-[cliente]-test.service
#    sudo systemctl daemon-reload
#    sudo systemctl enable odoo-[cliente]-test
#    sudo systemctl start odoo-[cliente]-test
#
# 6. Configurar Nginx (ver deployment/nginx/template.conf)
#
# 7. Configurar SSL con Let's Encrypt:
#    sudo certbot --nginx -d [cliente]-test.somosblink.com
