[options]
# =============================================================================
# CORTE PERFECTO - TEST/STAGING
# =============================================================================
# Cliente: Corte Perfecto
# Entorno: Test/Staging
# Host: corteperfecto-test.somosblink.com
# Servidor: EC2 Ubuntu 24.04.3 LTS (IP: 98.95.14.205)
# Última actualización: 2026-01-20
# =============================================================================

# Heredar configuración base
extends = ../base.conf

# -----------------------------------------------------------------------------
# IDENTIFICACIÓN
# -----------------------------------------------------------------------------
hostname = corteperfecto-test.somosblink.com
environment = test
client_name = Corte Perfecto
client_code = corteperfecto

# -----------------------------------------------------------------------------
# NETWORK
# -----------------------------------------------------------------------------
http_port = 8075
http_interface = 127.0.0.1
proxy_mode = True

# -----------------------------------------------------------------------------
# DATABASE
# -----------------------------------------------------------------------------
db_name = corteperfecto-test
db_filter = ^corteperfecto-.*$
db_password = Odoo2025Testing!

# Permitir lista de bases de datos en test
list_db = True

# -----------------------------------------------------------------------------
# SECURITY
# -----------------------------------------------------------------------------
# Contraseña de admin
admin_passwd = 8qg-9USIxNbsOwfkNL1GdGwOfnp7eevg9KVTcmtaNhM

# -----------------------------------------------------------------------------
# PERFORMANCE (Test)
# -----------------------------------------------------------------------------
# Single process para debugging
workers = 0

# Límites de tiempo
limit_time_cpu = 600
limit_time_real = 1200

# Límites de memoria
limit_memory_soft = 2147483648
limit_memory_hard = 2684354560

# Requests antes de reciclar worker
limit_request = 8192

# Threads de cron
max_cron_threads = 1

# -----------------------------------------------------------------------------
# ADDONS
# -----------------------------------------------------------------------------
addons_path = /opt/odoo/custom-addons,
              /opt/odoo/odoo18/addons,
              /opt/odoo/custom-addons/odoo-argentina,
              /opt/odoo/custom-addons/odoo-argentina-ce,
              /opt/odoo/custom-addons/account-financial-tools

# -----------------------------------------------------------------------------
# DIRECTORIES
# -----------------------------------------------------------------------------
data_dir = /opt/odoo/.local/share/Odoo-corteperfecto
logfile = /var/log/odoo/odoo-corteperfecto.log

# -----------------------------------------------------------------------------
# LOGGING
# -----------------------------------------------------------------------------
log_level = info
log_handler = :INFO

# -----------------------------------------------------------------------------
# NOTAS
# -----------------------------------------------------------------------------
# - Configuración actual del servidor EC2
# - Base de datos existente: corteperfecto-test
# - Servicio systemd: odoo-corteperfecto.service
# - Puerto interno: 8075 (proxy Nginx en 443/80)
# - SSL: Let's Encrypt configurado
# - Para deployment: ver docs/clients/corteperfecto.md
