[options]
# =============================================================================
# CORTE PERFECTO - PRODUCCIÓN
# =============================================================================
# Cliente: Corte Perfecto
# Entorno: Production
# Host: corteperfecto.somosblink.com
# Servidor: EC2 Ubuntu 24.04.3 LTS (IP: 98.95.14.205)
# Última actualización: 2026-01-20
# =============================================================================

# Heredar configuración base
extends = ../base.conf

# -----------------------------------------------------------------------------
# IDENTIFICACIÓN
# -----------------------------------------------------------------------------
hostname = corteperfecto.somosblink.com
environment = production
client_name = Corte Perfecto
client_code = corteperfecto

# -----------------------------------------------------------------------------
# NETWORK
# -----------------------------------------------------------------------------
http_port = 8076
http_interface = 127.0.0.1
proxy_mode = True

# -----------------------------------------------------------------------------
# DATABASE
# -----------------------------------------------------------------------------
db_name = corteperfecto-prod
db_filter = ^corteperfecto-prod$
db_password = Odoo2025Production!

# Ocultar lista de bases de datos en producción
list_db = False

# -----------------------------------------------------------------------------
# SECURITY
# -----------------------------------------------------------------------------
# Contraseña de admin (cambiar en producción real)
admin_passwd = 8qg-9USIxNbsOwfkNL1GdGwOfnp7eevg9KVTcmtaNhM

# -----------------------------------------------------------------------------
# PERFORMANCE (Producción)
# -----------------------------------------------------------------------------
# Workers para producción (2 CPUs = 5 workers)
workers = 2

# Límites de tiempo
limit_time_cpu = 600
limit_time_real = 1200

# Límites de memoria
limit_memory_soft = 2147483648
limit_memory_hard = 2684354560

# Requests antes de reciclar worker
limit_request = 8192

# Threads de cron
max_cron_threads = 1

# -----------------------------------------------------------------------------
# ADDONS
# -----------------------------------------------------------------------------
addons_path = /opt/odoo/custom-addons,
              /opt/odoo/odoo18/addons,
              /opt/odoo/custom-addons/odoo-argentina,
              /opt/odoo/custom-addons/odoo-argentina-ce,
              /opt/odoo/custom-addons/account-financial-tools

# -----------------------------------------------------------------------------
# DIRECTORIES
# -----------------------------------------------------------------------------
data_dir = /opt/odoo/.local/share/Odoo-corteperfecto-prod
logfile = /var/log/odoo/odoo-corteperfecto-prod.log

# -----------------------------------------------------------------------------
# LOGGING
# -----------------------------------------------------------------------------
log_level = info
log_handler = :INFO

# -----------------------------------------------------------------------------
# NOTAS
# -----------------------------------------------------------------------------
# - Configuración de PRODUCCIÓN
# - Base de datos: corteperfecto-prod (por crear)
# - Servicio systemd: odoo-corteperfecto-prod.service (por crear)
# - Puerto interno: 8076 (diferente de test)
# - SSL: Let's Encrypt configurado
# - Workers: 2 (multi-threaded para mejor performance)
# - Para deployment: ./deployment/deploy.py --host corteperfecto.somosblink.com --branch main
